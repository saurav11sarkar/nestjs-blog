generator client {
  provider     = "prisma-client"
  output       = "../src/generated/prisma"
  moduleFormat = "cjs"
}

datasource db {
  provider = "postgresql"
}

enum UserRole {
  super_admin
  admin
  user
}

enum Status {
  active
  inactive
  block
}

model User {
  id         String    @id @default(uuid())
  name       String
  email      String    @unique
  password   String?
  photo      String?
  role       UserRole  @default(user)
  phone      String?
  status     Status    @default(active)
  isVerified Boolean   @default(false)
  otp        String?
  experOtp   DateTime?

  posts     Post[]
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("users")
}

model Post {
  id         String   @id @default(uuid())
  title      String
  content    String
  thumbnal   String?
  isFeatured Boolean  @default(false)
  tags       String[]
  views      Int      @default(0)
  authorId   String
  author     User     @relation(fields: [authorId], references: [id], onDelete: Cascade)
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt

  @@map("posts")
}
